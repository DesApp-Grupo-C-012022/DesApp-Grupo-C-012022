language: java

jdk:
  - openjdk11

services:
  - mysql

before_install:
  â€“ chmod +x gradlew
  - sudo mysql -e "UPDATE mysql.user SET authentication_string=PASSWORD('root') WHERE User='root';"
  - sudo service mysql restart
  - mysql -e 'CREATE DATABASE IF NOT EXISTS criptop2p;'

addons:
  sonarcloud:
    organization: "ggoffredo-jcvincenti"

script:
  - ./gradlew jacocoTestReport sonarqube

# safelist
branches:
  only:
    - main